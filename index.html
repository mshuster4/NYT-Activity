<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <div class="jumbotron">
        <h1 class="text-center">New York Times Search</h1>
    </div>

    <div class="container">

        <div class="row">
            <h2 class="col-sm-12 text-left">Search Parameters</h2>
        </div>

            <form>
                <div class="form-group">
                    <label for="search-term">Search Term:</label>
                    <input class="form-control" id="search-term" placeholder="roosevelt">
                </div>
                <div class="form-group">
                    <label for="numberOfRecords">Number of Records to Retrieve:</label>
                    <input type="number" class="form-control" id="numberOfRecords" placeholder="5">
                </div>
                    <div class="form-group">
                    <label for="begin-date">Start Year (Optional):</label>
                    <input type="number" class="form-control" id="begin-date">
                </div>
                <div class="form-group">
                    <label for="end-date">End Year (Optional):</label>
                    <input type="number" class="form-control" id="end-date" placeholder="1929">
                
            </div>
                <button type="submit" class="btn btn-primary" id="search-button">Search</button>
                <button type="button" class="btn btn-warning" id="clearResults">Clear Results</button>                
            </form>
        
        <hr>

        <div class="row">
            <h2 class="col-sm-12 text-left">Top Articles</h2>            
        </div>

            <div class="topArticles"></div>
        
    </div>
              

</body>

<script>
    

    $("#search-button").on("click", function(){
        var apiKey = "555456931be849db9d335ab78cdf8101";
        var searchTerm = $("#search-term").val();
        var numberOfResults = $("#numberOfRecords").val();
        var beginDate = $("#begin-date").val();
        var endDate = $("#end-date").val();        

        var queryUrl = "https://api.nytimes.com/svc/search/v2/articlesearch.json?" + apiKey; 
            queryUrl += "?" + $.param({
                'q': searchTerm,
                'fq': numberOfResults,
                'begin_date': beginDate,
                'end_date': endDate
            })

        $.ajax({
            url: queryUrl,
            method: 'GET',
        }).then(function(response){
            console.log(docs.web_url);
            
        });

    });
    
</script>
</html>